const TRANSLATIONS = {
    fr: {
        // Navigation
        nav_features: "Fonctionnalités",
        nav_doctors: "Médecins",
        nav_login: "Connexion",
        nav_start: "Commencer",
        nav_myspace: "Mon Espace",
        nav_start_mobile: "Commencer Gratuitement",
        // Hero
        hero_badge: "Application certifiée & sécurisée",
        hero_title1: "Prenez soin de votre santé,",
        hero_title2: "en toute simplicité",
        hero_desc: "Suivi médical intuitif et sécurisé. Gérez vos constantes vitales, recevez des conseils personnalisés et partagez vos données avec votre médecin.",
        cta_start: "Commencer gratuitement",
        cta_login: "Se connecter",
        cta_myspace: "Accéder à mon espace",
        trust_encrypted: "Données cryptées",
        trust_gdpr: "RGPD conforme",
        trust_free: "Gratuit",
        // Features
        feat_section_title: "Tout ce dont vous avez besoin",
        feat_section_desc: "Des fonctionnalités pensées pour simplifier votre suivi médical au quotidien",
        feat1_title: "Suivi complet",
        feat1_desc: "Tension artérielle, glycémie, poids. Toutes vos constantes vitales centralisées et analysées.",
        feat2_title: "Graphiques intelligents",
        feat2_desc: "Visualisez l'évolution de vos mesures avec des graphiques clairs et interactifs.",
        feat3_title: "Export PDF & Excel",
        feat3_desc: "Partagez facilement vos rapports de santé avec votre médecin traitant.",
        feat4_title: "Rappels intelligents",
        feat4_desc: "Ne manquez jamais une prise de mesure ou un médicament avec nos rappels personnalisés.",
        feat5_title: "Conseils personnalisés",
        feat5_desc: "Recevez des recommandations santé basées sur vos mesures et votre profil.",
        feat6_title: "Rendez-vous médicaux",
        feat6_desc: "Prenez rendez-vous directement avec votre médecin depuis l'application.",
        // Patients section
        patients_badge: "Pour les Patients",
        patients_title: "Votre santé, simplifiée",
        patients_desc: "Suivez vos constantes vitales, recevez des alertes en cas d'anomalie, et partagez vos données avec votre médecin en un clic.",
        patients_li1: "<strong>Saisie rapide</strong> : Enregistrez vos mesures en quelques secondes",
        patients_li2: "<strong>Historique détaillé</strong> : Consultez l'évolution de vos données sur plusieurs mois",
        patients_li3: "<strong>Alertes intelligentes</strong> : Soyez prévenu en cas de valeurs anormales",
        patients_cta: "Créer mon compte patient",
        // Doctors section
        doctors_badge: "Pour les Médecins",
        doctors_title: "Suivez vos patients efficacement",
        doctors_desc: "Dashboard médecin complet avec alertes prioritaires, agenda intelligent et accès à l'historique détaillé de chaque patient.",
        doctors_li1: "<strong>Dashboard médecin</strong> : Vue d'ensemble de tous vos patients",
        doctors_li2: "<strong>Agenda intégré</strong> : Gérez vos consultations (cabinet, visio, domicile)",
        doctors_li3: "<strong>Alertes automatiques</strong> : Soyez notifié des mesures anormales",
        doctors_cta: "Créer mon compte médecin",
        // CTA section
        cta_title: "Prêt à prendre soin de votre santé ?",
        cta_desc: "Rejoignez des milliers d'utilisateurs qui font confiance à MyHealth pour leur suivi médical quotidien.",
        // Footer
        footer_tagline: "Votre compagnon santé personnel pour un suivi médical simplifié et sécurisé.",
        footer_product: "Produit",
        footer_features_link: "Fonctionnalités",
        footer_patients_link: "Pour les patients",
        footer_doctors_link: "Pour les médecins",
        footer_company: "Entreprise",
        footer_about: "À propos",
        footer_privacy: "Confidentialité",
        footer_terms: "Conditions d'utilisation",
        footer_support: "Support",
        footer_help: "Centre d'aide",
        footer_contact: "Contact",
        footer_secure: "Données sécurisées",
        footer_copyright: "© 2024 MyHealth. Tous droits réservés.",
        // Profile / Settings
        profile_personal: "Informations Personnelles",
        profile_firstname: "Prénom",
        profile_lastname: "Nom",
        profile_dob: "Date de naissance",
        profile_phone: "Téléphone",
        profile_address: "Adresse",
        profile_security: "Sécurité",
        profile_logout: "Déconnexion",
        profile_save: "Enregistrer les modifications",
        profile_lang_title: "Langue",
        profile_lang_label: "Langue de l'interface",
    },
    en: {
        // Navigation
        nav_features: "Features",
        nav_doctors: "Doctors",
        nav_login: "Login",
        nav_start: "Get Started",
        nav_myspace: "My Space",
        nav_start_mobile: "Get Started for Free",
        // Hero
        hero_badge: "Certified & secure application",
        hero_title1: "Take care of your health,",
        hero_title2: "simply",
        hero_desc: "Intuitive and secure medical tracking. Manage your vital signs, receive personalized advice and share your data with your doctor.",
        cta_start: "Get started for free",
        cta_login: "Log in",
        cta_myspace: "Access my space",
        trust_encrypted: "Encrypted data",
        trust_gdpr: "GDPR compliant",
        trust_free: "Free",
        // Features
        feat_section_title: "Everything you need",
        feat_section_desc: "Features designed to simplify your daily medical tracking",
        feat1_title: "Complete tracking",
        feat1_desc: "Blood pressure, blood sugar, weight. All your vital signs centralized and analyzed.",
        feat2_title: "Smart charts",
        feat2_desc: "Visualize the evolution of your measurements with clear and interactive charts.",
        feat3_title: "PDF & Excel Export",
        feat3_desc: "Easily share your health reports with your doctor.",
        feat4_title: "Smart reminders",
        feat4_desc: "Never miss a measurement or medication with our personalized reminders.",
        feat5_title: "Personalized advice",
        feat5_desc: "Receive health recommendations based on your measurements and profile.",
        feat6_title: "Medical appointments",
        feat6_desc: "Book appointments directly with your doctor from the app.",
        // Patients section
        patients_badge: "For Patients",
        patients_title: "Your health, simplified",
        patients_desc: "Track your vital signs, receive alerts in case of anomaly, and share your data with your doctor in one click.",
        patients_li1: "<strong>Quick entry</strong>: Record your measurements in seconds",
        patients_li2: "<strong>Detailed history</strong>: View the evolution of your data over several months",
        patients_li3: "<strong>Smart alerts</strong>: Be notified of abnormal values",
        patients_cta: "Create my patient account",
        // Doctors section
        doctors_badge: "For Doctors",
        doctors_title: "Monitor your patients efficiently",
        doctors_desc: "Complete doctor dashboard with priority alerts, smart agenda and access to each patient's detailed history.",
        doctors_li1: "<strong>Doctor dashboard</strong>: Overview of all your patients",
        doctors_li2: "<strong>Integrated agenda</strong>: Manage your consultations (office, video, home)",
        doctors_li3: "<strong>Automatic alerts</strong>: Be notified of abnormal measurements",
        doctors_cta: "Create my doctor account",
        // CTA section
        cta_title: "Ready to take care of your health?",
        cta_desc: "Join thousands of users who trust MyHealth for their daily medical tracking.",
        // Footer
        footer_tagline: "Your personal health companion for simplified and secure medical tracking.",
        footer_product: "Product",
        footer_features_link: "Features",
        footer_patients_link: "For patients",
        footer_doctors_link: "For doctors",
        footer_company: "Company",
        footer_about: "About",
        footer_privacy: "Privacy",
        footer_terms: "Terms of use",
        footer_support: "Support",
        footer_help: "Help Center",
        footer_contact: "Contact",
        footer_secure: "Secured data",
        footer_copyright: "© 2024 MyHealth. All rights reserved.",
        // Profile / Settings
        profile_personal: "Personal Information",
        profile_firstname: "First Name",
        profile_lastname: "Last Name",
        profile_dob: "Date of Birth",
        profile_phone: "Phone",
        profile_address: "Address",
        profile_security: "Security",
        profile_logout: "Logout",
        profile_save: "Save changes",
        profile_lang_title: "Language",
        profile_lang_label: "Interface language",
    }
};

function getLang() {
    return localStorage.getItem('mh_lang') || 'fr';
}

function setLang(lang) {
    localStorage.setItem('mh_lang', lang);
    applyLang(lang);
}

function applyLang(lang) {
    var t = TRANSLATIONS[lang];
    if (!t) return;

    document.querySelectorAll('[data-i18n]').forEach(function(el) {
        var key = el.getAttribute('data-i18n');
        if (t[key] !== undefined) {
            el.textContent = t[key];
        }
    });

    document.querySelectorAll('[data-i18n-html]').forEach(function(el) {
        var key = el.getAttribute('data-i18n-html');
        if (t[key] !== undefined) {
            el.innerHTML = t[key];
        }
    });

    // Update toggle button active states
    document.querySelectorAll('.lang-btn-fr').forEach(function(btn) {
        if (lang === 'fr') {
            btn.classList.add('bg-white', 'text-slate-900', 'shadow-sm');
            btn.classList.remove('text-slate-400');
        } else {
            btn.classList.remove('bg-white', 'text-slate-900', 'shadow-sm');
            btn.classList.add('text-slate-400');
        }
    });
    document.querySelectorAll('.lang-btn-en').forEach(function(btn) {
        if (lang === 'en') {
            btn.classList.add('bg-white', 'text-slate-900', 'shadow-sm');
            btn.classList.remove('text-slate-400');
        } else {
            btn.classList.remove('bg-white', 'text-slate-900', 'shadow-sm');
            btn.classList.add('text-slate-400');
        }
    });

    document.documentElement.lang = lang;
}

document.addEventListener('DOMContentLoaded', function() {
    applyLang(getLang());
});
