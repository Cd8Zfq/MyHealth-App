from flask import g

TRANSLATIONS = {
    'fr': {
        # ── base.html nav ──────────────────────────────────────────────
        'nav_dashboard':    'Tableau de bord',
        'nav_history':      'Historique',
        'nav_reminders':    'Rappels',
        'nav_profile':      'Profil',
        'nav_logout':       'Déconnexion',
        'nav_login':        'Se connecter',
        'nav_register':     "S'inscrire",
        'nav_patients':     'Patients',
        'nav_agenda':       'Agenda',
        # ── landing page ───────────────────────────────────────────────
        'nav_features':     'Fonctionnalités',
        'nav_doctors':      'Médecins',
        'nav_start':        'Commencer',
        'nav_myspace':      'Mon Espace',
        'nav_start_mobile': 'Commencer Gratuitement',
        'hero_badge':       'Application certifiée & sécurisée',
        'hero_title1':      'Prenez soin de votre santé,',
        'hero_title2':      'en toute simplicité',
        'hero_desc':        'Suivi médical intuitif et sécurisé. Gérez vos constantes vitales, recevez des conseils personnalisés et partagez vos données avec votre médecin.',
        'cta_start':        'Commencer gratuitement',
        'cta_login':        'Se connecter',
        'cta_myspace':      'Accéder à mon espace',
        'trust_encrypted':  'Données cryptées',
        'trust_gdpr':       'RGPD conforme',
        'trust_free':       'Gratuit',
        'feat_section_title': 'Tout ce dont vous avez besoin',
        'feat_section_desc':  'Des fonctionnalités pensées pour simplifier votre suivi médical au quotidien',
        'feat1_title': 'Suivi complet',
        'feat1_desc':  'Tension artérielle, glycémie, poids. Toutes vos constantes vitales centralisées et analysées.',
        'feat2_title': 'Graphiques intelligents',
        'feat2_desc':  "Visualisez l'évolution de vos mesures avec des graphiques clairs et interactifs.",
        'feat3_title': 'Export PDF & Excel',
        'feat3_desc':  'Partagez facilement vos rapports de santé avec votre médecin traitant.',
        'feat4_title': 'Rappels intelligents',
        'feat4_desc':  'Ne manquez jamais une prise de mesure ou un médicament avec nos rappels personnalisés.',
        'feat5_title': 'Conseils personnalisés',
        'feat5_desc':  'Recevez des recommandations santé basées sur vos mesures et votre profil.',
        'feat6_title': 'Rendez-vous médicaux',
        'feat6_desc':  "Prenez rendez-vous directement avec votre médecin depuis l'application.",
        'patients_badge':   'Pour les Patients',
        'patients_title':   'Votre santé, simplifiée',
        'patients_desc':    "Suivez vos constantes vitales, recevez des alertes en cas d'anomalie, et partagez vos données avec votre médecin en un clic.",
        'patients_li1':     '<strong>Saisie rapide</strong> : Enregistrez vos mesures en quelques secondes',
        'patients_li2':     '<strong>Historique détaillé</strong> : Consultez l\'évolution de vos données sur plusieurs mois',
        'patients_li3':     '<strong>Alertes intelligentes</strong> : Soyez prévenu en cas de valeurs anormales',
        'patients_cta':     'Créer mon compte patient',
        'doctors_badge':    'Pour les Médecins',
        'doctors_title':    'Suivez vos patients efficacement',
        'doctors_desc':     "Dashboard médecin complet avec alertes prioritaires, agenda intelligent et accès à l'historique détaillé de chaque patient.",
        'doctors_li1':      '<strong>Dashboard médecin</strong> : Vue d\'ensemble de tous vos patients',
        'doctors_li2':      '<strong>Agenda intégré</strong> : Gérez vos consultations (cabinet, visio, domicile)',
        'doctors_li3':      '<strong>Alertes automatiques</strong> : Soyez notifié des mesures anormales',
        'doctors_cta':      'Créer mon compte médecin',
        'cta_title':        'Prêt à prendre soin de votre santé ?',
        'cta_desc':         "Rejoignez des milliers d'utilisateurs qui font confiance à MyHealth pour leur suivi médical quotidien.",
        'footer_tagline':       'Votre compagnon santé personnel pour un suivi médical simplifié et sécurisé.',
        'footer_product':       'Produit',
        'footer_features_link': 'Fonctionnalités',
        'footer_patients_link': 'Pour les patients',
        'footer_doctors_link':  'Pour les médecins',
        'footer_company':       'Entreprise',
        'footer_about':         'À propos',
        'footer_privacy':       'Confidentialité',
        'footer_terms':         "Conditions d'utilisation",
        'footer_support':       'Support',
        'footer_help':          "Centre d'aide",
        'footer_contact':       'Contact',
        'footer_secure':        'Données sécurisées',
        'footer_copyright':     '© 2024 MyHealth. Tous droits réservés.',
        # ── lang toggle ────────────────────────────────────────────────
        'lang_label': 'Langue',
        # ── auth ───────────────────────────────────────────────────────
        'login_welcome':    'Bienvenue',
        'login_subtitle':   'Connectez-vous à votre espace santé',
        'login_password':   'Mot de passe',
        'login_btn':        'Se connecter',
        'login_no_account': 'Pas encore de compte ?',
        'login_signup':     "S'inscrire",
        'register_heading':      'Créer un compte',
        'register_subtitle':     'Rejoignez MyHealth gratuitement',
        'register_password':     'Mot de passe',
        'register_btn':          "S'inscrire",
        'register_have_account': 'Déjà un compte ?',
        'register_login':        'Se connecter',
        # ── measurement types ──────────────────────────────────────────
        'type_tension':  'Tension',
        'type_glycemie': 'Glycémie',
        'type_poids':    'Poids',
        # ── measurement/dashboard ──────────────────────────────────────
        'dash_hello':       'Bonjour,',
        'dash_ready':       'Prêt pour votre suivi santé ?',
        'dash_welcome':     'Bienvenue !',
        'dash_first_meas':  'Commencez par ajouter votre première mesure.',
        'dash_quick_access':'Accès Rapide',
        'dash_recent':      'Activité récente',
        'dash_see_all':     'Tout voir',
        'dash_recorded_at': "Enregistré aujourd'hui à",
        'dash_today':       "Aujourd'hui",
        'dash_no_activity': 'Aucune activité récente',
        'status_normal':    'Normale',
        'status_watch':     'À surveiller',
        'status_high':      'Élevée',
        # ── measurement/history ────────────────────────────────────────
        'hist_title':   'Historique complet',
        'hist_avoid':   'À éviter',
        'hist_prefer':  'À privilégier',
        'hist_no_data': 'Aucune donnée',
        'hist_empty':   'Votre historique est vide pour le moment.',
        'hist_add':     'Ajouter une mesure',
        'filter_all':   'Tous',
        'hist_evolution': 'Évolution',
        # ── measurement/list ───────────────────────────────────────────
        'list_title':      'Tableau de bord',
        'list_subtitle':   "Voici un aperçu de votre santé aujourd'hui.",
        'list_export_pdf': 'Exporter PDF',
        'list_tracking':   'Suivi de vos constantes vitales',
        'list_last_meas':  'Dernière mesure •',
        'list_alert':      'Alerte',
        'list_normal':     'Normal',
        'list_see_all':    'Tout voir',
        'list_recent':     'Historique récent',
        'list_no_meas':    'Aucune mesure',
        'list_start':      'Commencer maintenant',
        # ── measurement/select_method ──────────────────────────────────
        'select_type':       'Type de saisie',
        'select_how':        'Comment souhaitez-vous ajouter cette mesure ?',
        'select_manual':     'Saisie Manuelle',
        'select_keyboard':   'Via clavier',
        'select_sensor':     'Capteur Connecté',
        'select_auto_sync':  'Synchro automatique',
        'select_soon':       'Bientôt',
        'select_cancel':     'Annuler',
        'select_bluetooth':  'Module Bluetooth en cours de développement.',
        # ── measurement/add ────────────────────────────────────────────
        'meas_manual':    'Saisie manuelle',
        'meas_type':      'Type de mesure',
        'meas_value1':    'Valeur 1',
        'meas_value2':    'Valeur 2 (Opt.)',
        'meas_notes':     'Notes (Optionnel)',
        'meas_save':      'Enregistrer la mesure',
        'meas_systolic':  'Systolique (mmHg)',
        'meas_diastolic': 'Diastolique (mmHg)',
        'meas_glucose':   'Glucose (mg/dL)',
        'meas_weight':    'Poids (kg)',
        # ── doctor/dashboard ───────────────────────────────────────────
        'doctor_hello':      'Bonjour Dr.',
        'doctor_overview':   "Vue d'ensemble",
        'doctor_alerts':     'Alertes Critiques',
        'doctor_no_alerts':  'RAS : Aucun patient en zone critique.',
        'doctor_next_appts': 'Prochains Rendez-vous',
        'doctor_see_all':    'Voir tout',
        'doctor_see_less':   'Voir moins',
        'doctor_free_slot':  'Créneau libre',
        'doctor_request':    'Demande:',
        'doctor_visio':      'Visio',
        'doctor_cabinet':    'Cabinet',
        'doctor_no_appts':   "Aucun autre rendez-vous aujourd'hui.",
        # ── doctor/patients ────────────────────────────────────────────
        'patients_my':    'Mes Patients',
        'patients_count': 'Patient(s)',
        'patients_file':  'Dossier',
        'patients_empty': 'Aucun patient enregistré.',
        # ── doctor/patient_history ─────────────────────────────────────
        'hist_patient_title': 'Historique Patient',
        'hist_of':            'Historique de',
        # ── doctor/agenda ──────────────────────────────────────────────
        'agenda_no_appts':    'Aucun rendez-vous ce jour.',
        'agenda_in_progress': 'En cours',
        'agenda_free_slot':   'Créneau disponible',
        'agenda_location':    'Lieu du rendez-vous',
        'agenda_at_office':   'Au cabinet',
        'agenda_in_person':   'Rendez-vous en présentiel',
        'agenda_at_home':     'À domicile',
        'agenda_teleconsult': 'Téléconsultation',
        'agenda_video_appt':  'Rendez-vous en visioconférence',
        'agenda_maps':        'Voir sur Google Maps',
        'agenda_join_video':  'Rejoindre la visio',
        'agenda_no_link':     'Aucun lien de visio renseigné.',
        'agenda_no_address':  'Adresse non renseignée',
        'agenda_create_slot':      'Libérer un créneau',
        'agenda_slot_type':        'Type de consultation',
        'agenda_video_link_label': 'Lien de visioconférence',
        'agenda_video_link_ph':    'https://meet.google.com/...',
        'agenda_date':        'Date',
        'agenda_start':       'Début',
        'agenda_end_opt':     'Fin (Opt.)',
        'agenda_validate':    'Valider la disponibilité',
        'agenda_visio':       'Visio',
        'agenda_cabinet':     'Cabinet',
        'agenda_request':     'Demande:',
        # ── patient/booking ────────────────────────────────────────────
        'book_title':       'Prendre RDV',
        'book_back':        '← Retour',
        'book_heading':     'Prendre rendez-vous',
        'book_no_slots':    'Aucun créneau disponible pour le moment.',
        'book_come_back':   'Revenez plus tard.',
        'book_reason':      'Motif de la consultation',
        'book_placeholder': 'Ex: Renouvellement ordonnance, fièvre...',
        'book_confirm':     'Confirmer la demande',
        # ── reminder/add ───────────────────────────────────────────────
        'reminder_new':          'Nouveau rappel',
        'reminder_title_label':  'Titre du rappel',
        'reminder_title_ph':     'ex: Vitamine D, Médicament...',
        'reminder_time':         'Heure',
        'reminder_days':         'Jours (Optionnel)',
        'reminder_days_ph':      'Lun, Mar, Ven...',
        'reminder_save':         'Enregistrer le rappel',
        'reminder_cancel':       'Annuler',
        # ── reminder/reminders ─────────────────────────────────────────
        'reminders_page_title':  'Mes Rendez-vous & Rappels',
        'reminders_appts':       'Rendez-vous',
        'reminders_upcoming':    'Vos consultations à venir',
        'reminders_book':        'Prendre RDV',
        'reminders_confirmed':   'Confirmé',
        'reminders_pending':     'En attente',
        'reminders_cancelled':   'Annulé',
        'reminders_treatment':   'Rappels Traitements',
        'reminders_no_appts':    'Aucun rendez-vous prévu.',
        'reminders_book_link':   'Prendre rendez-vous',
        'reminders_no_rem':      'Aucun rappel configuré.',
        'reminders_create':      'Créer un rappel',
        'reminders_everyday':    'Tous les jours',
        'reminders_delete_confirm': 'Supprimer ce rappel ?',
        # ── profile ────────────────────────────────────────────────────
        'profile_personal':   'Informations Personnelles',
        'profile_firstname':  'Prénom',
        'profile_lastname':   'Nom',
        'profile_dob':        'Date de naissance',
        'profile_phone':      'Téléphone',
        'profile_address':    'Adresse',
        'profile_security':   'Sécurité',
        'profile_logout':     'Déconnexion',
        'profile_save':       'Enregistrer les modifications',
        'profile_lang_title': 'Langue',
        'profile_lang_label': "Langue de l'interface",
        # ── health advice ──────────────────────────────────────────────
        'advice_sugar_title':    'Glycémie',
        'advice_sugar_msg':      'Glycémie élevée, évitez les sucres rapides.',
        'advice_sugar_avoid_0':  'Sodas & Jus',
        'advice_sugar_avoid_1':  'Pâtisseries',
        'advice_sugar_avoid_2':  'Pain blanc',
        'advice_sugar_favor_0':  'Légumes fibreux',
        'advice_sugar_favor_1':  'Eau',
        'advice_sugar_favor_2':  'Céréales complètes',
        'advice_bp_title':       'Tension',
        'advice_bp_msg':         'Tension haute, surveillez votre consommation de sel.',
        'advice_bp_avoid_0':     'Sel de table',
        'advice_bp_avoid_1':     'Charcuteries',
        'advice_bp_avoid_2':     'Plats préparés',
        'advice_bp_favor_0':     'Fruits & Légumes',
        'advice_bp_favor_1':     'Aliments riches en potassium',
        'advice_bp_favor_2':     'Activités calmes',
        'advice_weight_title':   'Poids',
        'advice_weight_msg':     'Légère prise de poids (+{diff} kg).',
        'advice_weight_avoid_0': 'Grignotage',
        'advice_weight_avoid_1': 'Plats gras',
        'advice_weight_avoid_2': 'Sédentarité',
        'advice_weight_favor_0': 'Marche active',
        'advice_weight_favor_1': 'Protéines maigres',
        'advice_weight_favor_2': 'Repas à heures fixes',
        'advice_ok_title':       'Bilan Santé',
        'advice_ok_msg':         'Constantes stables, continuez ainsi !',
    },
    'en': {
        # ── base.html nav ──────────────────────────────────────────────
        'nav_dashboard':    'Dashboard',
        'nav_history':      'History',
        'nav_reminders':    'Reminders',
        'nav_profile':      'Profile',
        'nav_logout':       'Logout',
        'nav_login':        'Log in',
        'nav_register':     'Sign up',
        'nav_patients':     'Patients',
        'nav_agenda':       'Agenda',
        # ── landing page ───────────────────────────────────────────────
        'nav_features':     'Features',
        'nav_doctors':      'Doctors',
        'nav_start':        'Get Started',
        'nav_myspace':      'My Space',
        'nav_start_mobile': 'Get Started for Free',
        'hero_badge':       'Certified & secure application',
        'hero_title1':      'Take care of your health,',
        'hero_title2':      'simply',
        'hero_desc':        'Intuitive and secure medical tracking. Manage your vital signs, receive personalized advice and share your data with your doctor.',
        'cta_start':        'Get started for free',
        'cta_login':        'Log in',
        'cta_myspace':      'Access my space',
        'trust_encrypted':  'Encrypted data',
        'trust_gdpr':       'GDPR compliant',
        'trust_free':       'Free',
        'feat_section_title': 'Everything you need',
        'feat_section_desc':  'Features designed to simplify your daily medical tracking',
        'feat1_title': 'Complete tracking',
        'feat1_desc':  'Blood pressure, blood sugar, weight. All your vital signs centralized and analyzed.',
        'feat2_title': 'Smart charts',
        'feat2_desc':  'Visualize the evolution of your measurements with clear and interactive charts.',
        'feat3_title': 'PDF & Excel Export',
        'feat3_desc':  'Easily share your health reports with your doctor.',
        'feat4_title': 'Smart reminders',
        'feat4_desc':  'Never miss a measurement or medication with our personalized reminders.',
        'feat5_title': 'Personalized advice',
        'feat5_desc':  'Receive health recommendations based on your measurements and profile.',
        'feat6_title': 'Medical appointments',
        'feat6_desc':  'Book appointments directly with your doctor from the app.',
        'patients_badge':   'For Patients',
        'patients_title':   'Your health, simplified',
        'patients_desc':    'Track your vital signs, receive alerts in case of anomaly, and share your data with your doctor in one click.',
        'patients_li1':     '<strong>Quick entry</strong>: Record your measurements in seconds',
        'patients_li2':     '<strong>Detailed history</strong>: View the evolution of your data over several months',
        'patients_li3':     '<strong>Smart alerts</strong>: Be notified of abnormal values',
        'patients_cta':     'Create my patient account',
        'doctors_badge':    'For Doctors',
        'doctors_title':    'Monitor your patients efficiently',
        'doctors_desc':     "Complete doctor dashboard with priority alerts, smart agenda and access to each patient's detailed history.",
        'doctors_li1':      '<strong>Doctor dashboard</strong>: Overview of all your patients',
        'doctors_li2':      '<strong>Integrated agenda</strong>: Manage your consultations (office, video, home)',
        'doctors_li3':      '<strong>Automatic alerts</strong>: Be notified of abnormal measurements',
        'doctors_cta':      'Create my doctor account',
        'cta_title':        'Ready to take care of your health?',
        'cta_desc':         'Join thousands of users who trust MyHealth for their daily medical tracking.',
        'footer_tagline':       'Your personal health companion for simplified and secure medical tracking.',
        'footer_product':       'Product',
        'footer_features_link': 'Features',
        'footer_patients_link': 'For patients',
        'footer_doctors_link':  'For doctors',
        'footer_company':       'Company',
        'footer_about':         'About',
        'footer_privacy':       'Privacy',
        'footer_terms':         'Terms of use',
        'footer_support':       'Support',
        'footer_help':          'Help Center',
        'footer_contact':       'Contact',
        'footer_secure':        'Secured data',
        'footer_copyright':     '© 2024 MyHealth. All rights reserved.',
        # ── lang toggle ────────────────────────────────────────────────
        'lang_label': 'Language',
        # ── auth ───────────────────────────────────────────────────────
        'login_welcome':    'Welcome',
        'login_subtitle':   'Log in to your health space',
        'login_password':   'Password',
        'login_btn':        'Log in',
        'login_no_account': 'No account yet?',
        'login_signup':     'Sign up',
        'register_heading':      'Create an account',
        'register_subtitle':     'Join MyHealth for free',
        'register_password':     'Password',
        'register_btn':          'Sign up',
        'register_have_account': 'Already have an account?',
        'register_login':        'Log in',
        # ── measurement types ──────────────────────────────────────────
        'type_tension':  'Blood pressure',
        'type_glycemie': 'Blood sugar',
        'type_poids':    'Weight',
        # ── measurement/dashboard ──────────────────────────────────────
        'dash_hello':       'Hello,',
        'dash_ready':       'Ready for your health check-up?',
        'dash_welcome':     'Welcome!',
        'dash_first_meas':  'Start by adding your first measurement.',
        'dash_quick_access':'Quick Access',
        'dash_recent':      'Recent activity',
        'dash_see_all':     'See all',
        'dash_recorded_at': 'Recorded today at',
        'dash_today':       'Today',
        'dash_no_activity': 'No recent activity',
        'status_normal':    'Normal',
        'status_watch':     'Monitor',
        'status_high':      'High',
        # ── measurement/history ────────────────────────────────────────
        'hist_title':   'Complete history',
        'hist_avoid':   'To avoid',
        'hist_prefer':  'To favor',
        'hist_no_data': 'No data',
        'hist_empty':   'Your history is empty for now.',
        'hist_add':     'Add a measurement',
        'filter_all':   'All',
        'hist_evolution': 'Evolution',
        # ── measurement/list ───────────────────────────────────────────
        'list_title':      'Dashboard',
        'list_subtitle':   "Here's an overview of your health today.",
        'list_export_pdf': 'Export PDF',
        'list_tracking':   'Tracking your vital signs',
        'list_last_meas':  'Last measurement •',
        'list_alert':      'Alert',
        'list_normal':     'Normal',
        'list_see_all':    'See all',
        'list_recent':     'Recent history',
        'list_no_meas':    'No measurements',
        'list_start':      'Get started',
        # ── measurement/select_method ──────────────────────────────────
        'select_type':       'Input type',
        'select_how':        'How would you like to add this measurement?',
        'select_manual':     'Manual Entry',
        'select_keyboard':   'Via keyboard',
        'select_sensor':     'Connected Sensor',
        'select_auto_sync':  'Automatic sync',
        'select_soon':       'Coming soon',
        'select_cancel':     'Cancel',
        'select_bluetooth':  'Bluetooth module under development.',
        # ── measurement/add ────────────────────────────────────────────
        'meas_manual':    'Manual entry',
        'meas_type':      'Measurement type',
        'meas_value1':    'Value 1',
        'meas_value2':    'Value 2 (Opt.)',
        'meas_notes':     'Notes (Optional)',
        'meas_save':      'Save measurement',
        'meas_systolic':  'Systolic (mmHg)',
        'meas_diastolic': 'Diastolic (mmHg)',
        'meas_glucose':   'Glucose (mg/dL)',
        'meas_weight':    'Weight (kg)',
        # ── doctor/dashboard ───────────────────────────────────────────
        'doctor_hello':      'Hello Dr.',
        'doctor_overview':   'Overview',
        'doctor_alerts':     'Critical Alerts',
        'doctor_no_alerts':  'All clear: No patients in critical zone.',
        'doctor_next_appts': 'Next Appointments',
        'doctor_see_all':    'See all',
        'doctor_see_less':   'See less',
        'doctor_free_slot':  'Free slot',
        'doctor_request':    'Request:',
        'doctor_visio':      'Video',
        'doctor_cabinet':    'Office',
        'doctor_no_appts':   'No more appointments today.',
        # ── doctor/patients ────────────────────────────────────────────
        'patients_my':    'My Patients',
        'patients_count': 'Patient(s)',
        'patients_file':  'File',
        'patients_empty': 'No patients registered.',
        # ── doctor/patient_history ─────────────────────────────────────
        'hist_patient_title': 'Patient History',
        'hist_of':            'History of',
        # ── doctor/agenda ──────────────────────────────────────────────
        'agenda_no_appts':    'No appointments today.',
        'agenda_in_progress': 'In progress',
        'agenda_free_slot':   'Available slot',
        'agenda_location':    'Appointment location',
        'agenda_at_office':   'At the office',
        'agenda_in_person':   'In-person appointment',
        'agenda_at_home':     'At home',
        'agenda_teleconsult': 'Teleconsultation',
        'agenda_video_appt':  'Video conference appointment',
        'agenda_maps':        'View on Google Maps',
        'agenda_join_video':  'Join video call',
        'agenda_no_link':     'No video link provided.',
        'agenda_no_address':  'Address not provided',
        'agenda_create_slot':      'Create a time slot',
        'agenda_slot_type':        'Consultation type',
        'agenda_video_link_label': 'Video conference link',
        'agenda_video_link_ph':    'https://meet.google.com/...',
        'agenda_date':        'Date',
        'agenda_start':       'Start',
        'agenda_end_opt':     'End (Opt.)',
        'agenda_validate':    'Confirm availability',
        'agenda_visio':       'Video',
        'agenda_cabinet':     'Office',
        'agenda_request':     'Request:',
        # ── patient/booking ────────────────────────────────────────────
        'book_title':       'Book appointment',
        'book_back':        '← Back',
        'book_heading':     'Book an appointment',
        'book_no_slots':    'No slots available at the moment.',
        'book_come_back':   'Come back later.',
        'book_reason':      'Reason for appointment',
        'book_placeholder': 'e.g. Prescription renewal, fever...',
        'book_confirm':     'Confirm request',
        # ── reminder/add ───────────────────────────────────────────────
        'reminder_new':          'New reminder',
        'reminder_title_label':  'Reminder title',
        'reminder_title_ph':     'e.g. Vitamin D, Medication...',
        'reminder_time':         'Time',
        'reminder_days':         'Days (Optional)',
        'reminder_days_ph':      'Mon, Tue, Fri...',
        'reminder_save':         'Save reminder',
        'reminder_cancel':       'Cancel',
        # ── reminder/reminders ─────────────────────────────────────────
        'reminders_page_title':  'My Appointments & Reminders',
        'reminders_appts':       'Appointments',
        'reminders_upcoming':    'Your upcoming consultations',
        'reminders_book':        'Book appointment',
        'reminders_confirmed':   'Confirmed',
        'reminders_pending':     'Pending',
        'reminders_cancelled':   'Cancelled',
        'reminders_treatment':   'Treatment Reminders',
        'reminders_no_appts':    'No appointments scheduled.',
        'reminders_book_link':   'Book an appointment',
        'reminders_no_rem':      'No reminders configured.',
        'reminders_create':      'Create a reminder',
        'reminders_everyday':    'Every day',
        'reminders_delete_confirm': 'Delete this reminder?',
        # ── profile ────────────────────────────────────────────────────
        'profile_personal':   'Personal Information',
        'profile_firstname':  'First Name',
        'profile_lastname':   'Last Name',
        'profile_dob':        'Date of Birth',
        'profile_phone':      'Phone',
        'profile_address':    'Address',
        'profile_security':   'Security',
        'profile_logout':     'Logout',
        'profile_save':       'Save changes',
        'profile_lang_title': 'Language',
        'profile_lang_label': 'Interface language',
        # ── health advice ──────────────────────────────────────────────
        'advice_sugar_title':    'Blood Sugar',
        'advice_sugar_msg':      'Blood sugar is elevated — cut back on fast-digesting carbs.',
        'advice_sugar_avoid_0':  'Sodas & juice',
        'advice_sugar_avoid_1':  'Pastries',
        'advice_sugar_avoid_2':  'White bread',
        'advice_sugar_favor_0':  'Fiber-rich veggies',
        'advice_sugar_favor_1':  'Water',
        'advice_sugar_favor_2':  'Whole grains',
        'advice_bp_title':       'Blood Pressure',
        'advice_bp_msg':         'Blood pressure is high — watch your salt intake.',
        'advice_bp_avoid_0':     'Table salt',
        'advice_bp_avoid_1':     'Deli meats',
        'advice_bp_avoid_2':     'Processed foods',
        'advice_bp_favor_0':     'Fruits & vegetables',
        'advice_bp_favor_1':     'Potassium-rich foods',
        'advice_bp_favor_2':     'Light exercise',
        'advice_weight_title':   'Weight',
        'advice_weight_msg':     'Slight weight gain (+{diff} kg) since your last reading.',
        'advice_weight_avoid_0': 'Snacking',
        'advice_weight_avoid_1': 'Fatty meals',
        'advice_weight_avoid_2': 'Sitting for long periods',
        'advice_weight_favor_0': 'Daily walks',
        'advice_weight_favor_1': 'Lean protein',
        'advice_weight_favor_2': 'Regular meal times',
        'advice_ok_title':       'Health Check',
        'advice_ok_msg':         'All readings look stable — keep it up!',
    },
}


def get_lang():
    return g.get('lang', 'fr')


def t(key):
    lang = get_lang()
    d = TRANSLATIONS.get(lang, TRANSLATIONS['fr'])
    return d.get(key, TRANSLATIONS['fr'].get(key, key))


def tm(type_str):
    """Translate a measurement type DB value (tension/glycemie/poids)."""
    return t('type_' + type_str) if type_str else ''
